---
layout: slide_pfh
permalink: PythonForHumanities/slides/week7
title: 流程控制 
---

<section>
  <section data-background-transition="zoom" data-background="#b5533c" data-markdown>
    <textarea data-template>
      ### <i class="fas fa-exclamation-circle"></i> 參考文件 
      [More Control Flow Tools](https://docs.python.org/3.7/tutorial/controlflow.html)
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `if` ... `elif` ... `else` 

<i class="fas fa-caret-right"></i> *帥哥與醜男的差別*

<div style="font-size:20px">

|              | 帥哥   | 醜男       | 宅男  |
|--------------|--------|------------|------ |
| *微笑*       | 陽光   | 猥褻       | 宅    |
| *留鬍鬚*     | 有性格 | 拉塌       | 宅    |
| *搭訕*       | 抱緊   | 報警       | 宅    |
| *口甜舌滑*   | 風趣   | 流氓       | 宅    |
| *對女士禮讓* | 體貼   | 不安好心   | 宅    |
| *頭髮被風吹* | 瀟灑   | 頭皮屑亂漂 | 宅    |
| *開黃腔*     | 幽默   | 低級       | 宅    |

</div>
---


    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
```python
male = input('帥哥/醜男/宅男： ')
action = input('微笑/開黃腔： ')

if action == '微笑':
    if male == '帥哥':
        print('陽光')
    elif male == '醜男':
        print('猥褻')
    elif male == '宅男':
        print('宅')
elif action == '開黃腔':
    if male == '帥哥':
        print('幽默')
    elif male == '醜男':
        print('低級')
    elif male == '宅男':
        print('宅')
``` 
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
或者可以這樣表示
```python
male = input('帥哥/醜男/宅男： ')
action = input('微笑/開黃腔： ')

if male == '宅男':
    print('宅')
else:
    if action == '微笑':
        if male == '帥哥':
            print('陽光')
        elif male == '醜男':
            print('猥褻')
    elif action == '開黃腔':
        if male == '帥哥':
            print('幽默')
        elif male == '醜男':
            print('低級')
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

> 有個工程師某日在下班前接到老婆的電話...  
老婆說：「下班順便帶十個包子回家，如果看到賣西瓜的，就買一個。」  
晚上工程師回到家，老婆看了就問：「怎麼只買了一個包子？」  
工程師：「因為看到賣西瓜的。」  <!-- .elements style="font-size:20px;text-align: left"> -->
[(改編自 PTT- joke板)](https://www.ptt.cc/man/joke/DE63/D4EB/D334/M.1297590153.A.208.html)

1. 請寫出 **工程師** 的邏輯式
2. 請寫出 **老婆** 的邏輯式

```python
# 可能用到的變數
watermelon = 0
baozi = 0
saw_watermelon_vendor = True
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

*課程後公佈*
{% comment %} 
```python
# 工程師
baozi = 0
saw_watermelon_vendor == True
if saw_watermelon_vendor:
    baozi += 1
else:
    baozi += 10

# 老婆
baozi = 10
watermelon = 0
saw_watermelon_vendor == True
if saw_watermelon_vendor:
    watermelon = 1
```
{% endcomment %}

    </textarea>
  </section>
</section>

<section>
  <section>
    <h3><code>if</code> vs. <code>elif</code></h3>
    <p><i class="fas fa-caret-right"></i> <i>發票對獎： 何種計算方式才正確？</i></p>
    <div style="display:flex">
      <div style="flex:1">
        <pre>
          <code class="lang-python hljs" data-trim>
num = '12345678'
money = 0
if num.endswith('12345678'):
    money += 200000
elif num.endswith('2345678'):
    money += 40000
elif num.endswith('345678'):
    money += 10000
elif num.endswith('45678'):
    money += 4000
elif num.endswith('5678'):
    money += 1000 
elif num.endswith('678'):
    money += 200
          </code>
        </pre>
      </div>
      <div style="flex:1">
        <pre>
          <code class="lang-python hljs" data-trim>
num = '12345678'
money = 0
if num.endswith('12345678'):
    money += 200000
if num.endswith('2345678'):
    money += 40000
if num.endswith('345678'):
    money += 10000
if num.endswith('45678'):
    money += 4000
if num.endswith('5678'):
    money += 1000 
if num.endswith('678'):
    money += 200
         </code>
        </pre>
      </div>
    </div>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

1. 會議費用1,000元，學生打八折，台大學生打五折
2. 會議費用1,000元，學生打八折，台大學生再打五折

```python
price = 1000
profile = {
  'name': 'Aji',
  'occupation': 'student',
  'university': 'NTU', 
}
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

*課程後公佈*
{% comment %} 
1 會議費用1,000元，學生打八折，台大學生打五折

```python
price = 1000
if profile['occupation'] == 'student':
    if profile['university'] == 'NTU':
        price *= 0.5
    else:
        price *= 0.8
else:
    pass
```

2 會議費用1,000元，學生打八折，台大學生再打五折

```python
price = 1000
if profile['occupation'] == 'student':
    price *= 0.8
if profile['university'] == 'NTU':
    price *= 0.5
```
{% endcomment %}
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `for`
<i class="fas fa-caret-right"></i> *不知道中午要吃什麼？*
```python
import random

# 列出喜歡吃的餐廳
cands = ['八方雲集', '越南清化河粉', '麥當勞', '肯德基', '四海遊龍', '活大自助餐', '發現義大利麵', '水源市場陳師父', '三顧茅廬', '摩斯漢堡']

# 隨機排序喜歡吃的餐廳
random.shuffle(cands)

for i in range(5):
    weekday = i + 1 
    restaurant = cands[i]
    print(f'星期{weekday}: {restaurant}')
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

1. 用兩個迴圈輸出九九乘法表
```text
1 x 1 = 1
1 x 2 = 2
...
5 x 5 = 25
5 x 6 = 30
...
9 x 8 = 72
9 x 9 = 81
```
2. 以下為某班成績，請把每個人的分數乘以1.5後，再加上20分，最後在四捨五入至整數，超過100分以100分計
```python
records = [22, 59, 89, 48, 65, 38, 71, 65, 49, 92]
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

*課程後公佈*
{% comment %} 
九九乘法表
```python
for i in range(1, 10):
    for j in range(1, 10):
        print(f'{i} x {j} = {i * j}')
```
成績加權
```python
records = [22, 59, 89, 48, 65, 38, 71, 65, 49, 92]
new_records = []
for i in records:
   res = i * 1.5 + 20
   if res >= 100:
       res = 100
   new_records.append(res)
```
{% endcomment %}
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `while`
<i class="fas fa-caret-right"></i> *記得定時喝水！*
```python
import time

while True:
    time.sleep(10)
    print('該喝水惹~~~~~~')
```

加上「倒數計時」功能
```python
countdown = 10
while True:
    for i in range(countdown):
        print(countdown - i)
        time.sleep(1)
    print('該喝水惹~~~~~~')
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

用 `whlie` `eval` `input` 土炮一個計算機 (REPL)
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

*課程後公佈*
{% comment %} 
```python
while True:
    statement = input('>>> ')
    result = eval(statement)
    print(result)
```
{% endcomment %}
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `pass`, `continue`, `break` 
<i class="fas fa-caret-right"></i> *取個中二暱稱吧！*
```python
people = ['昱翔', '阿吉', '舒凱', '琼玉', '智堯', '大成']
template = '【卐乂Oo煞气ㄟ{name}oO乂卍】' 
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
pass

```python
for name in people:
    if name == '舒凱':
        pass
    else:
        print(template.format(name=name))
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
continue

```python
for name in people:
    if name == '舒凱':
        continue
    else:
        print(template.format(name=name))
    print('-' * 40)  # 分隔線
```
    </textarea>
  </section>

  <section data-markdown>
    <textarea data-template>
break

```python
for name in people:
    if name == '舒凱':
        break
    else:
        print(template.format(name=name))
    print('-' * 40)

```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
<i class="fas fa-caret-right"></i> *暴力破解密碼*

```python
from datetime import datetime
import random

passcode = 9527  # 密碼
counter = 0  # 計數器
while datetime.now().second != 59:
    comb = list(range(10000))
    random.shuffle(comb)
    guess = comb.pop()
    if guess == passcode:
        print('The passcode is', guess)
        print(f'attempts: {counter}')
        break
    if datetime.now().second % 2 == 0:
        continue
    else:
        left = 60 - datetime.now().second
        print(f'(剩餘秒數:{str(left).zfill(2)}) 破解中: {guess}', end='\r')
        counter += 1
else:
     print('無法破解密碼')
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

終極密碼戰：答案為1-100中的其中一個數字

```python
import random
ans = random.choice(range(1, 101))

guess = None
min = 0
max = 100
```
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

*課程後公佈*
{% comment %} 
```python
import random
ans = random.choice(range(1, 101))

guess = None
min = 0
max = 100

while True:
    guess = input('你猜的數字是： ')
    guess = int(guess)
    if guess > max or guess < min:
        print(f'請輸入介於{min}到{max}之間的數字')
        continue
    if guess > ans:
        max = guess
        print(f'答案在{min}到{max}之間')
    elif guess < ans:
        min = guess
        print(f'答案在{min}到{max}之間')
    else:
        print('恭喜答對！')
        break
```
{% endcomment %}
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### Comprehensions
<i class="fas fa-caret-right"></i> *本次修課同學*
```python
members = [
    ['國企系', 'Lisa'], ['經濟系', '志浩'], ['外文系', '若昀'],
    ['外文系', '圓滿'], ['經濟系', '世明'], ['圖資系', '蔡伯'],
    ['外文系', '以晴'], ['圖資系', '小香'], ['圖資系', '英俊'],
    ['國企系', 'Ella'], ['歷史系', '珍珍'], ['社會系', '大周'],
    ['社會系', '米珍'], ['經濟系', '阿青'], ['政治系', '阿隆'],
    ['經濟系', '麒麟'], ['外文系', '子成'], ['社會系', '淑芳'],
    ['外文系', '無限'], ['經濟系', '海平'], ['社會系', '莎莎'],
    ['經濟系', '偉光'], ['歷史系', '韋如'], ['外文系', '玫心'],
]
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
#### `list` comprehension
<i class="fas fa-caret-right"></i> *找出所有修課同學*
```python
people = [name for (department, name) in members]
```

`for` loop
```python
people = []
for (department, name) in members:
    people.append(name)
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
#### `dict` comprehension
<i class="fas fa-caret-right"></i> *找出所有修課同學與其系所*
```python
people = {name: department for (department, name) in members} 
```

`for` loop
```python
people = {} 
for (department, name) in members:
    people[name] = department
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
#### `set` comprehension
<i class="fas fa-caret-right"></i> *找出所有修課同學的系所*
```python
departments = {department for (department, name) in members}
```

`for` loop
```python
departments = set() 
for (department, name) in members:
    departments.add(department)
```

    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 練習

找出所有 **外文系** 同學的名字
    </textarea>
  </section>
  <section data-background-transition="zoom" data-background="#2C3539" data-markdown>
    <textarea data-template>
### 參考答案

```python
people = [name for (department, name) in members if department == '外文系']

# 或
people = [i[1] for i in members if i[0] == '外文系']
```

*課程後公佈*
{% comment %} 
{% endcomment %}

    </textarea>
  </section>
</section>

<section data-background-transition="zoom" data-background="#0abab5" data-markdown>
  <textarea data-template>
### 補充： `try`, `except`, `raise`

<i class="fas fa-exclamation-circle"></i> [參考文件](https://docs.python.org/3/tutorial/errors.html)
  </textarea>
</section>

