---
layout: slide_pfh
permalink: PythonForHumanities/slides/week7
title: 流程控制 
---

<section>
  <section data-background-transition="zoom" data-background="#b5533c" data-markdown>
    <textarea data-template>
      ### <i class="fas fa-exclamation-circle"></i> 參考文件 
      [More Control Flow Tools](https://docs.python.org/3.7/tutorial/controlflow.html)
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `if` ... `elif` ... `else` 
<div style="font-size:20px">

|              | 帥哥   | 醜男       | 宅男  |
|--------------|--------|------------|------ |
| *微笑*       | 陽光   | 猥褻       | 宅    |
| *留鬍鬚*     | 有性格 | 拉塌       | 宅    |
| *搭訕*       | 抱緊   | 報警       | 宅    |
| *口甜舌滑*   | 風趣   | 流氓       | 宅    |
| *對女士禮讓* | 體貼   | 不安好心   | 宅    |
| *頭髮被風吹* | 瀟灑   | 頭皮屑亂漂 | 宅    |
| *開黃腔*     | 幽默   | 低級       | 宅    |

</div>
---


    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
```python
male = input('帥哥/醜男/宅男： ')
action = input('微笑/開黃腔： ')

if action == '微笑':
    if male == '帥哥':
        print('陽光')
    elif male == '醜男':
        print('猥褻')
    elif male == '宅男':
        print('宅')
elif action == '開黃腔':
    if male == '帥哥':
        print('幽默')
    elif male == '醜男':
        print('低級')
    elif male == '宅男':
        print('宅')
``` 
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
或者可以這樣表示
```python
male = input('帥哥/醜男/宅男： ')
action = input('微笑/開黃腔： ')

if male == '宅男':
    print('宅')
else:
    if action == '微笑':
        if male == '帥哥':
            print('陽光')
        elif male == '醜男':
            print('猥褻')
    elif action == '開黃腔':
        if male == '帥哥':
            print('幽默')
        elif male == '醜男':
            print('低級')
```
    </textarea>
  </section>
</section>

<section>
  <section>
    <h3><code>if</code> vs. <code>elif</code></h3>
    <p>發票對獎： 何種計算方式才正確？</p>
    <div style="display:flex">
      <div style="flex:1">
        <pre>
          <code class="lang-python hljs" data-trim>
num = '12345678'
money = 0
if num.endswith('12345678'):
    money += 200000
elif num.endswith('2345678'):
    money += 40000
elif num.endswith('345678'):
    money += 10000
elif num.endswith('45678'):
    money += 4000
elif num.endswith('5678'):
    money += 1000 
elif num.endswith('678'):
    money += 200
          </code>
        </pre>
      </div>
      <div style="flex:1">
        <pre>
          <code class="lang-python hljs" data-trim>
num = '12345678'
money = 0
if num.endswith('12345678'):
    money += 200000
if num.endswith('2345678'):
    money += 40000
if num.endswith('345678'):
    money += 10000
if num.endswith('45678'):
    money += 4000
if num.endswith('5678'):
    money += 1000 
if num.endswith('678'):
    money += 200
         </code>
        </pre>
      </div>
    </div>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
      ### `for`
      不知道中午要吃什麼？
      ```python
      import random

      # 列出喜歡吃的餐廳
      cands = ['八方雲集', '越南清化河粉', '麥當勞', '肯德基', '四海遊龍', '活大自助餐', '發現義大利麵', '水源市場陳師父', '三顧茅廬', '摩斯漢堡']

      # 隨機排序喜歡吃的餐廳
      random.shuffle(cands)
     
      for i in range(5):
          weekday = i + 1 
          restaurant = cands[i]
          print(f'星期{weekday}: {restaurant}')
      ```
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `while`
記得定時喝水！
```python
import time

while True:
    time.sleep(10)
    print('該喝水惹~~~~~~')
```

加上「倒數計時」功能
```python
countdown = 10
while True:
    for i in range(countdown):
        print(countdown - i)
        time.sleep(1)
    print('該喝水惹~~~~~~')
```
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### `pass`, `continue`, `break` 
把人名改成中二的暱稱
```python
people = ['昱翔', '阿吉', '舒凱', '琼玉', '智堯', '大成']
template = '【卐乂Oo煞气ㄟ{name}oO乂卍】' 

# pass
for name in people:
    if name == '舒凱':
        pass
    else:
        print(template.format(name=name))

# continue
for name in people:
    if name == '舒凱':
        continue
    else:
        print(template.format(name=name))
    print('-' * 40)  # 分隔線

# break
for name in people:
    if name == '舒凱':
        break
    else:
        print(template.format(name=name))
    print('-' * 40)

```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
暴力破解密碼

```python
from datetime import datetime
import random

passcode = 9527  # 密碼
counter = 0  # 計數器
while datetime.now().second != 59:
    comb = list(range(10000))
    random.shuffle(comb)
    guess = comb.pop()
    if guess == passcode:
        print('The passcode is', guess)
        print(f'attempts: {counter}')
        break
    if datetime.now().second % 2 == 0:
        continue
    else:
        left = 60 - datetime.now().second
        print(f'(剩餘秒數:{left}) 破解中: {guess}', end='\r')
        counter += 1
else:
     print('無法破解密碼')
```
    </textarea>
  </section>
</section>

<section>
  <section data-markdown>
    <textarea data-template>
### Comprehensions

```python
members = [['國企系', 'Lisa'], ['經濟系', '志浩'], ['外文系', '若昀'], ['外文系', '圓滿'], ['經濟系', '世明'], ['圖資系', '蔡伯'], ['外文系', '以晴'], ['圖資系', '小香'], ['圖資系', '英俊'], ['國企系', 'Ella'], ['歷史系', '珍珍'], ['社會系', '大周'], ['社會系', '米珍'], ['經濟系', '阿青'], ['政治系', '阿隆'], ['經濟系', '麒麟'], ['外文系', '子成'], ['社會系', '淑芳'], ['外文系', '無限'], ['經濟系', '海平'], ['社會系', '莎莎'], ['經濟系', '偉光'], ['歷史系', '韋如'], ['外文系', '玫心']]
```

`list` comprehension
```python
people = [name for (department, name) in members]
```

`for` loop
```python
people = []
for (department, name) in members:
    people.append(name)
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
`dict` comprehension
```python
people = {name: department for (department, name) in members} 
```

`for` loop
```python
people = {} 
for (department, name) in members:
    people[name] = department
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
`set` comprehension
```python
departments = {department for (department, name) in members}
```

`for` loop
```python
departments = set() 
for (department, name) in members:
    departments.add(department)
```

    </textarea>
  </section>
</section>
